import{methodoInicio}from"./index.js";import Input from"./Input.js";!function(){"use strict";const e={nav:document.querySelector("nav.navbar"),data:null,limit:48,ofset:0,dataStore:{name:"data",data:[]}},t={inicio:()=>{t.addInput(),Input(t.createCart,null);const a=t.createSection.getStorage();a&&e.dataStore.data.push(a.split(",").map(e=>e))},addContentInput:e=>{e.target.parentNode.parentNode.parentNode.firstChild.value=e.target.textContent,Input(t.createCart,e.target.textContent,48,0),window.scroll(0,0)},addDeplegable:(e,a)=>{const n=t.createSection.getStorage(),r=document.createElement("article");r.className="article",e.className="show",e.replaceChildren(r),n&&0!==n.length&&n.split(",").reverse().map(e=>{if(0!==e.length){const a=document.createElement("p");a.className="p";const n=document.createTextNode(e);a.appendChild(n),a.addEventListener("click",e=>{t.addContentInput(e)},!1),r.appendChild(a)}})},addInput:()=>{const a=document.createElement("form"),n=document.createElement("section");n.className="divDesplegable",a.addEventListener("submit",e=>{e.preventDefault()},!1);const r=document.createElement("input");r.setAttribute("type","text"),r.className="input",r.setAttribute("placeholder","search"),r.addEventListener("change",a=>{let n=e.dataStore.data;0!==a.target.value.length&&n.push(a.target.value),Input(t.createCart,a.target.value||null,48,0),e.data=a.target.value,window.scrollTo(0,0),t.createSection.getStorage(),t.createSection.setStorage()},!1),r.addEventListener("keyup",a=>{Input(t.createCart,a.target.value||null,48,0),e.data=a.target.value,window.scrollTo(0,0)}),r.addEventListener("click",e=>t.addDeplegable(n),!1),r.addEventListener("focusout",()=>{setTimeout(()=>{n.className="divDesplegable"},200)},!1),a.appendChild(r),a.appendChild(n),e.nav.appendChild(a)},scroll:()=>{let a=document.querySelector("section.containerCard");a=onscroll=(a=>{document.documentElement.scrollTop+document.documentElement.clientHeight>=document.documentElement.scrollHeight&&Input(t.createCart,e.data,e.limit,e.ofset+=25)})},createSection:{setStorage:()=>{localStorage.setItem(e.dataStore.name,e.dataStore.data)},getStorage:()=>localStorage.getItem(e.dataStore.name),removeStorage:()=>{}},createContentNoData:e=>{console.log(e.parentNode),e.className="containerCard trending";const t=document.createElement("h2");t.innerHTML="<h2>No Data <br/> See More Trending</h2>",e.replaceChildren(t)},createCart:(e,a)=>{console.log(e),console.log("ðŸ”´ðŸ”´SCROLLðŸ”´ðŸ”´",a);const n=document.querySelector("#app"),r=e&&0!==e.length&&document.createElement("section");r.className=e&&0!==e.data.length&&"containerCard trending",a?n.querySelector("main").replaceChildren(r):n.querySelector("main").appendChild(r),e&&0!==e.data.length?e.data.map((e,t)=>{const a=document.createElement("div"),n=document.createElement("p");a.className="pokemonCard",a.id=e.title.replace(/ |&|,|@|'|[.]|[0-9]/g,"")||"title",n.style.cursor="pointer";const o=document.createTextNode(e.title),l=document.createElement("img");l.src=e.images.original.url,l.className="img",a.appendChild(n),n.appendChild(o),a.appendChild(l),r.appendChild(a),n.addEventListener("click",e=>{e.target.parentNode.parentNode.removeChild(e.target.parentNode.parentNode.querySelector(`#${e.target.parentNode.id}`))},!1)}):t.createContentNoData(r),t.scroll()}};t.inicio()}();